<%- include('header.ejs') %>
    <main>
        <div class="box" id="heading">
            <h2><%= today  %></h2>
        </div>
        <form class="todoInput" method="post" action="/submit">
            <div class="d-flex flex-column">
                <div class="form-floating inputBox my-3">
                    <input class="form-control w-75" id="todoData" type="text" name="todo" placeholder="Task" required>
                    <label for="todoData">Don't Forget!!!</label>
                </div>
                <div class="d-flex justify-content-between px-5">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="choice" value="weekday" id="flexRadio1" checked>
                        <label class="form-check-label" for="flexRadio1">
                          Weekday
                        </label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="choice" value="weekend" id="flexRadio2">
                        <label class="form-check-label" for="flexRadio2">
                          Weekend
                        </label>
                      </div>
                </div>
                <button class="btn btn-primary w-50 my-3 submitBtn" type="submit">SUBMIT</button>
            </div>
        </form>
        <div class="box itemBox">
          <% weekend_todo.forEach(element => { %>
            <div class= 'item' id= <%= `item-${element.id}` %>>
              <input class="form-check-input" type="checkbox" value="" id= <%=  element.id %>>
              <p><%= element.todo %></p>
            </div>
          <% }) %>

        </div>
    </main>
    <script>
      document.querySelectorAll('.item > input').forEach(input => {
        input.addEventListener('click', ()=> {
          const item = document.querySelector(`#item-${input.id} > p`)
          if (item.style.textDecoration === '') {
            item.style.textDecoration = 'line-through'
          } else {
            item.style.textDecoration = ''
          }
        })
      })
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
</body>
</html>